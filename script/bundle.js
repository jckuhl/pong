!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";t.exports={distance:function(t,e,i,o){return Math.sqrt(Math.pow(4))},clearAll:function(t,e,...i){for(let o of i)o.clearRect(0,0,t,e)},drawCircleNoBorder:function(t,e,i,o,n){t.beginPath(),t.arc(e,i,2*o,0,2*Math.PI),t.fillStyle=n,t.fill(),t.closePath},drawRectNoBorder:function(t,e,i,o,n,s){t.beginPath(),t.rect(e,i,o,n),t.fillStyle=s,t.fill(),t.closePath()},drawText:function(t,e={string:string,fontsize:fontsize,face:face,color:black,just:"left",x:x,y:y}){t.font=this.setFont(e.fontsize,e.face),t.fillStyle=e.color,t.textAlign=e.just,t.fillText(e.string,e.x,e.y)},drawLine:function(t,e={x:x,y:y,dx:dx,dy:dy,lineWidth:1,color:"black"}){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.dx,e.dy),t.lineWidth=e.lineWidth,t.strokeStyle=e.color,t.stroke()},drawPolygon:function(t,e){t.beginPath();for(let i=0;i<e.length;i++)t.moveTo(e[i].x,e[i].y),i+1<e?t.lineTo(e[i+k].x,e[i+k].y):t.lineTo(e[0].x,e[0].y)},setFont:function(t,e){return`normal ${t}pt ${e}`},getCenter:function(t){return{x:t.width/2,y:t.height/2}},getCornerPositions:function(t){return{top:t.getBoundingClientRect().top,bottom:t.getBoundingClientRect().bottom,left:t.getBoundingClientRect().left,right:t.getBoundingClientRect().right}}}},function(t,e,i){const o=i(0);!function(){"use strict";const t=document.querySelector("#playArea"),e=t.getContext("2d"),i=document.querySelector("#menuArea"),n=i.getContext("2d"),s=document.querySelectorAll("audio"),r="#17700d",l="#0d3f07",a=25,h=125,c=21,d="VT323",y=o.getCornerPositions(t),u=o.getCenter(t);let f,x,g,p=!1,w=!1,b=!1,P=!1,m=2;i.style.top=y.top+"px",i.style.left=y.left+"px";const k={Lg:80,Md:24,Sm:12},v={x:25,y:u.y-h/2},A={x:t.width-50,y:u.y-h/2},C={x:u.x,y:u.y+10};function S(){var t,e;return 1===(t=1,e=2,Math.floor(Math.random()*(e-t+1))+t)?1:-1}function T(t){m=2,t.x=C.x,t.y=C.y,t.dx=m*S(),t.dy=m*S()}class B{constructor(t,e){this.x=t,this.y=e,this.movUp=0,this.movDn=0,this.score=0,this.iAmAnAI=!1}drawPaddle(){o.drawRectNoBorder(e,this.x,this.y,a,h,r)}aiUpdatePosition(t){t.x>u.x+300&&(this.targetY=t.y,this.y+h/2>this.targetY?this.y-=8:this.y+=8,M(this))}updatePosition(){this.y+=-this.movUp+this.movDn,M(this)}}class L{constructor(i,n){this.radius=10,this.x=i,this.y=n,this.color=r,this.dx=m*S(),this.dy=m*S(),this.drawBall=(()=>{o.drawCircleNoBorder(e,this.x,this.y,this.radius,this.color)}),this.glow=(()=>{this.color="lime",setTimeout(()=>{this.color=r},100)}),this.isHittingLeftPaddle=(()=>this.x-this.radius<=f.x+a&&this.y>=f.y&&this.y<=f.y+h-this.radius),this.isHittingRightPaddle=(()=>this.x+this.radius>=x.x&&this.y>=x.y&&this.y<=x.y+h-this.radius),this.updatePosition=(()=>{this.x+=this.dx,this.y+=this.dy,this.y+this.radius>=t.height&&(this.dy=-m),this.y-this.radius<=0&&(this.dy=m),this.isHittingLeftPaddle()&&(s[0].play(),this.dx=m,this.glow()),this.isHittingRightPaddle()&&(s[1].play(),this.dx=-m,this.glow()),this.x-this.radius<=0&&(T(this),s[2].play(),x.score+=1),this.x+this.radius>=t.width&&(T(this),s[2].play(),f.score+=1)})}}function M(e){const i={left:25,right:t.height-h-25};e.y<i.left&&(e.y=i.left),e.y>i.right&&(e.y=i.right)}function R(t,e,i,s,l="center"){const a={string:t,fontsize:e,face:d,color:r,just:l,x:i,y:s};o.drawText(n,a)}function U(){w?(w=!1,i.style.display="none",i.style.backgroundColor="rgba(0, 0, 0, 1)",o.clearAll(t.width,t.height,n)):(w=!0,i.style.display="block",i.style.backgroundColor="rgba(0, 0, 0, 0)",R("Paused",k.Lg,u.x,u.y),R("Hit Esc or Space to continue",k.Md,u.x,u.y+36))}window.addEventListener("keydown",t=>{switch(t.key){case"w":if(!f)break;f.movUp=8;break;case"s":if(!f)break;f.movDn=8}}),window.addEventListener("keypress",s=>{32===s.keyCode&&(s.view.event.preventDefault(),P&&(p=!1,function(){f=new B(v.x,v.y),x=new B(A.x,A.y),g=new L(C.x,C.y),i.style.display="none",o.clearAll(t.width,t.height,n);const s=setInterval(()=>{if(P=!1,b=!0,o.clearAll(t.width,t.height,e),function(){const i={x:u.x,y:0,dx:u.x,dy:t.height,lineWidth:4,color:l};o.drawLine(e,i)}(),e.font=o.setFont(64,d),e.fillText(`${f.score}`,t.width/4,64),e.fillText(`${x.score}`,t.width/4*3,64),g.drawBall(),f.drawPaddle(),x.drawPaddle(),w||(f.updatePosition(g),x.aiUpdatePosition(g),g.updatePosition(),m+=.001),f.score>=c||x.score>=c){i.style.display="block",clearInterval(s),o.clearAll(t.width,t.height,e,n);const r=f.score>x.score?"Player 1 wins!":"Player 2 wins!";R(r,80,u.x,u.y),R("Press Space to play again!",24,u.x,u.y+36),P=!0,b=!1}},33)}()),w&&U())}),window.addEventListener("keyup",t=>{switch(t.key){case"w":if(!f)break;f.movUp=0;break;case"s":if(!f)break;f.movDn=0;break;case"o":if(!x)break;x.movUp=0;break;case"l":if(!x)break;x.movDn=0;break;case"Escape":U()}}),o.clearAll(t.width,t.height,e,n),R("Welcome to Pong",k.Lg,u.x,u.y),R("Hit [Space] to play!",k.Md,u.x,u.y+36),R("Based on the game Pong by Allan Alcorn",k.Sm,t.width-25,t.height-25,"right"),R("Written in JavaScript by Jonathan Kuhl",k.Sm,25,t.height-25,"left"),P=!0}()}]);